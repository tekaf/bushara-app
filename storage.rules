rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    // ğŸŸ¢ Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø®Ø§ØµØ© (ØµÙˆØ±ØŒ Ù…Ø±ÙÙ‚Ø§Øª)
    match /uploads/{userId}/{allPaths=**} {
      allow read, write: if request.auth != null
        && request.auth.uid == userId;
    }

    // ğŸ¨ Ø§Ù„ØªØµØ§Ù…ÙŠÙ… Ø§Ù„Ø¬Ø§Ù‡Ø²Ø©
    match /templates/{allPaths=**} {
      allow read: if true; // Ù„Ù„Ø²ÙˆØ§Ø± - Ø¢Ù…Ù†
      // Ù„Ù„ÙƒØªØ§Ø¨Ø©: Ø¥Ù…Ø§ admin token Ø£Ùˆ Ø¨Ø¯ÙˆÙ† auth (Ù„Ù„ØªØ·ÙˆÙŠØ± ÙÙ‚Ø·)
      allow write: if request.auth != null && request.auth.token.admin == true
        || true; // âš ï¸ Ù„Ù„ØªØ·ÙˆÙŠØ± ÙÙ‚Ø· - Ø§Ø­Ø°Ù Ù‡Ø°Ø§ ÙÙŠ Ø§Ù„Ø¥Ù†ØªØ§Ø¬
    }

    // ğŸ”¤ Ø§Ù„Ø®Ø·ÙˆØ· (Ø¹Ø±Ø¶ ÙÙ‚Ø·)
    match /fonts/{allPaths=**} {
      allow read: if true;
      allow write: if request.auth != null
        && request.auth.token.admin == true;
    }

    // âŒ Ø£ÙŠ Ù…Ø³Ø§Ø± ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ = Ù…Ø±ÙÙˆØ¶
    match /{allPaths=**} {
      allow read, write: if false;
    }
  }
}
